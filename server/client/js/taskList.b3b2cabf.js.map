{"version":3,"file":"js/taskList.b3b2cabf.js","mappings":"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","sources":["webpack://vue-app/./src/views/TaskList.vue","webpack://vue-app/src/views/TaskList.vue","webpack://vue-app/./src/views/TaskList.vue?f1da","webpack://vue-app/./src/views/TaskList.vue?3b9c"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('main',[_c('Loading',{attrs:{\"active\":_vm.isLoading,\"is-full-page\":true,\"can-cancel\":false}}),_c('div',{staticClass:\"flex items-center mb-4 text-green-700 font-bold text-lg uppercase\"},[_c('ThemifyIcon',{attrs:{\"icon\":\"menu\"}}),_c('h1',{staticClass:\"ml-2\"},[_vm._v(\"Task list management\")])],1),_c('div',{staticClass:\"mb-6\"},[_c('div',{staticClass:\"mb-2 text-md font-medium text-gray-900 flex items-center\"},[_c('ThemifyIcon',{attrs:{\"icon\":\"settings\"}}),_c('p',{staticClass:\"ml-2\"},[_vm._v(\"Start to create a new task:\")])],1),_c('div',{staticClass:\"flex mb-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.taskName),expression:\"taskName\"}],staticClass:\"block w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 pl-2 py-2 mr-4\",attrs:{\"placeholder\":\"Enter task name...\",\"type\":\"text\"},domProps:{\"value\":(_vm.taskName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.taskName=$event.target.value}}}),_c('div',{staticClass:\"flex justify-center items-center transition-all bg-green-400 hover:bg-green-500 text-white w-80 text-center rounded cursor-pointer\",on:{\"click\":_vm.newTaskHandler}},[_c('ThemifyIcon',{attrs:{\"icon\":\"plus\"}}),_c('button',{staticClass:\"ml-2\"},[_vm._v(\"New task\")])],1)])]),_c('div',{staticClass:\"mb-2 text-md font-medium text-gray-900 flex items-center\"},[_c('ThemifyIcon',{attrs:{\"icon\":\"settings\"}}),_c('p',{staticClass:\"ml-2\"},[_vm._v(\"List of all tasks:\")])],1),_c('div',{staticClass:\"flex items-center mb-4 text-gray-700 font-bold uppercase\"},[_c('h1',{staticClass:\"ml-2\"},[_vm._v(\"Total task: \"+_vm._s(_vm.totalTask))])]),_c('div',{staticClass:\"overflow-x-auto relative\"},[_c('table',{staticClass:\"overflow-scroll w-full text-sm text-left text-gray-500 dark:text-gray-400\"},[_c('thead',{staticClass:\"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400\"},[_c('tr',[_c('th',{staticClass:\"py-3 px-6\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Task name\")]),_c('th',{staticClass:\"py-3 px-6\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Members\")]),_c('th',{staticClass:\"py-3 px-6\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Created At\")]),_c('th',{staticClass:\"py-3 px-6\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Last modified\")]),(_vm.payload.role == 'ADMIN')?_c('th',{staticClass:\"py-3 px-6\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Remove\")]):_vm._e(),(_vm.payload.role == 'ADMIN')?_c('th',{staticClass:\"py-3 px-6\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Mark done\")]):_vm._e(),(_vm.payload.role == 'ADMIN')?_c('th',{staticClass:\"py-3 px-6 bg-\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Export\")]):_vm._e()])]),(_vm.taskList && _vm.taskList.data.length > 0)?_c('tbody',_vm._l((_vm.taskList.data),function(task,i){return _c('tr',{key:i,class:{ 'bg-green-100 border-b': task.isDone, 'bg-yellow-100 border-b': !task.isDone }},[(_vm.payload.role == 'ADMIN')?_c('router-link',{attrs:{\"to\":'/task/' + task.taskID}},[_c('th',{staticClass:\"py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white\",attrs:{\"scope\":\"row\"}},[_vm._v(\" \"+_vm._s(task.taskName)+\" \")])]):_vm._e(),_c('td',{staticClass:\"py-4 px-6\"},[_vm._v(_vm._s(task.memberList.length))]),_c('td',{staticClass:\"py-4 px-6\"},[_vm._v(_vm._s(_vm.dateFormat(task.createdAt)))]),_c('td',{staticClass:\"py-4 px-6\"},[_vm._v(_vm._s(_vm.dateFormat(task.updatedAt)))]),(_vm.payload.role == 'ADMIN')?_c('td',{staticClass:\"py-4 px-6\",on:{\"click\":function($event){return _vm.taskRemoveHandler(task.taskID)}}},[_c('div',{staticClass:\"text-red-500 cursor-pointer flex items-center\"},[_c('ThemifyIcon',{attrs:{\"icon\":\"trash\"}}),_c('p',{staticClass:\"ml-1\"},[_vm._v(\"Delete\")])],1)]):_vm._e(),(_vm.payload.role == 'ADMIN' && task.isDone)?_c('td',{staticClass:\"py-4 px-6\"},[_c('div',{staticClass:\"text-gray-500 flex items-center\"},[_c('ThemifyIcon',{attrs:{\"icon\":\"check\"}}),_c('p',{staticClass:\"ml-1\"},[_vm._v(\"Mark done\")])],1)]):_vm._e(),(_vm.payload.role == 'ADMIN' && !task.isDone)?_c('td',{staticClass:\"py-4 px-6\",on:{\"click\":function($event){return _vm.taskMarkDoneHandler(task.taskID)}}},[_c('div',{staticClass:\"text-green-500 cursor-pointer flex items-center\"},[_c('ThemifyIcon',{attrs:{\"icon\":\"check\"}}),_c('p',{staticClass:\"ml-1\"},[_vm._v(\"Mark done\")])],1)]):_vm._e(),(_vm.payload.role == 'ADMIN' && task.isDone)?_c('td',{staticClass:\"py-4 px-6\",on:{\"click\":function($event){return _vm.taskExportHandler(task.taskID)}}},[_c('div',{staticClass:\"text-blue-500 cursor-pointer flex items-center\"},[_c('ThemifyIcon',{attrs:{\"icon\":\"export\"}}),_c('p',{staticClass:\"ml-1\"},[_vm._v(\"Export\")])],1)]):_vm._e(),(_vm.payload.role == 'ADMIN' && !task.isDone)?_c('td',{staticClass:\"py-4 px-6\"},[_c('div',{staticClass:\"text-gray-500 flex items-center\"},[_c('ThemifyIcon',{attrs:{\"icon\":\"export\"}}),_c('p',{staticClass:\"ml-1\"},[_vm._v(\"Export\")])],1)]):_vm._e()],1)}),0):_vm._e()]),(!_vm.taskList)?_c('div',{staticClass:\"flex w-full justify-center p-8\"},[_c('h1',{},[_vm._v(\"Empty list, there is no data!\")])]):_vm._e()])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <main>\n        <Loading :active=\"isLoading\" :is-full-page=\"true\" :can-cancel=\"false\" />\n        <div class=\"flex items-center mb-4 text-green-700 font-bold text-lg uppercase\">\n            <ThemifyIcon icon=\"menu\" />\n            <h1 class=\"ml-2\">Task list management</h1>\n        </div>\n        <div class=\"mb-6\">\n            <div class=\"mb-2 text-md font-medium text-gray-900 flex items-center\">\n                <ThemifyIcon icon=\"settings\" />\n                <p class=\"ml-2\">Start to create a new task:</p>\n            </div>\n            <div class=\"flex mb-6\">\n                <input\n                    v-model=\"taskName\"\n                    class=\"block w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 pl-2 py-2 mr-4\"\n                    placeholder=\"Enter task name...\"\n                    type=\"text\"\n                />\n                <div\n                    v-on:click=\"newTaskHandler\"\n                    class=\"flex justify-center items-center transition-all bg-green-400 hover:bg-green-500 text-white w-80 text-center rounded cursor-pointer\"\n                >\n                    <ThemifyIcon icon=\"plus\" />\n                    <button class=\"ml-2\">New task</button>\n                </div>\n            </div>\n        </div>\n        <div class=\"mb-2 text-md font-medium text-gray-900 flex items-center\">\n            <ThemifyIcon icon=\"settings\" />\n            <p class=\"ml-2\">List of all tasks:</p>\n        </div>\n        <div class=\"flex items-center mb-4 text-gray-700 font-bold uppercase\">\n            <h1 class=\"ml-2\">Total task: {{ totalTask }}</h1>\n        </div>\n        <div class=\"overflow-x-auto relative\">\n            <table class=\"overflow-scroll w-full text-sm text-left text-gray-500 dark:text-gray-400\">\n                <thead class=\"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400\">\n                    <tr>\n                        <th scope=\"col\" class=\"py-3 px-6\">Task name</th>\n                        <th scope=\"col\" class=\"py-3 px-6\">Members</th>\n                        <th scope=\"col\" class=\"py-3 px-6\">Created At</th>\n                        <th scope=\"col\" class=\"py-3 px-6\">Last modified</th>\n                        <th scope=\"col\" class=\"py-3 px-6\" v-if=\"payload.role == 'ADMIN'\">Remove</th>\n                        <th scope=\"col\" class=\"py-3 px-6\" v-if=\"payload.role == 'ADMIN'\">Mark done</th>\n                        <th scope=\"col\" class=\"py-3 px-6 bg-\" v-if=\"payload.role == 'ADMIN'\">Export</th>\n                    </tr>\n                </thead>\n                <tbody v-if=\"taskList && taskList.data.length > 0\">\n                    <tr :class=\"{ 'bg-green-100 border-b': task.isDone, 'bg-yellow-100 border-b': !task.isDone }\" v-for=\"(task, i) in taskList.data\" :key=\"i\">\n                        <router-link :to=\"'/task/' + task.taskID\" v-if=\"payload.role == 'ADMIN'\">\n                            <th scope=\"row\" class=\"py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white\">\n                                {{ task.taskName }}\n                            </th>\n                        </router-link>\n                        <td class=\"py-4 px-6\">{{ task.memberList.length }}</td>\n                        <td class=\"py-4 px-6\">{{ dateFormat(task.createdAt) }}</td>\n                        <td class=\"py-4 px-6\">{{ dateFormat(task.updatedAt) }}</td>\n                        <td class=\"py-4 px-6\" v-on:click=\"taskRemoveHandler(task.taskID)\" v-if=\"payload.role == 'ADMIN'\">\n                            <div class=\"text-red-500 cursor-pointer flex items-center\">\n                                <ThemifyIcon icon=\"trash\" />\n                                <p class=\"ml-1\">Delete</p>\n                            </div>\n                        </td>\n                        <td class=\"py-4 px-6\" v-if=\"payload.role == 'ADMIN' && task.isDone\">\n                            <div class=\"text-gray-500 flex items-center\">\n                                <ThemifyIcon icon=\"check\" />\n                                <p class=\"ml-1\">Mark done</p>\n                            </div>\n                        </td>\n                        <td class=\"py-4 px-6\" v-on:click=\"taskMarkDoneHandler(task.taskID)\" v-if=\"payload.role == 'ADMIN' && !task.isDone\">\n                            <div class=\"text-green-500 cursor-pointer flex items-center\">\n                                <ThemifyIcon icon=\"check\" />\n                                <p class=\"ml-1\">Mark done</p>\n                            </div>\n                        </td>\n                        <td class=\"py-4 px-6\" v-on:click=\"taskExportHandler(task.taskID)\" v-if=\"payload.role == 'ADMIN' && task.isDone\">\n                            <div class=\"text-blue-500 cursor-pointer flex items-center\">\n                                <ThemifyIcon icon=\"export\" />\n                                <p class=\"ml-1\">Export</p>\n                            </div>\n                        </td>\n                        <td class=\"py-4 px-6\" v-if=\"payload.role == 'ADMIN' && !task.isDone\">\n                            <div class=\"text-gray-500 flex items-center\">\n                                <ThemifyIcon icon=\"export\" />\n                                <p class=\"ml-1\">Export</p>\n                            </div>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n            <div v-if=\"!taskList\" class=\"flex w-full justify-center p-8\">\n                <h1 class=\"\">Empty list, there is no data!</h1>\n            </div>\n        </div>\n    </main>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport ThemifyIcon from \"vue-themify-icons/ThemifyIcon.vue\";\nimport { mapState } from \"vuex\";\nimport Loading from \"vue-loading-overlay\";\nimport \"vue-loading-overlay/dist/vue-loading.css\";\nimport dateFormat from \"../helpers/dateFormat\";\n\nexport default {\n    data() {\n        return {\n            taskName: \"\",\n            isLoading: true,\n            taskList: null,\n            totalTask: 0,\n        };\n    },\n    async mounted() {\n        this.fetchData();\n    },\n    methods: {\n        dateFormat,\n        async fetchData() {\n            this.isLoading = true;\n            await axios\n                .get(`${process.env.VUE_APP_API_URL}/task/get-all?token=${this.accessToken}`)\n                .then((res) => {\n                    console.log(res.data);\n                    if (res.data.status) {\n                        this.taskList = res.data.result;\n                        this.totalTask = res.data.result.total;\n                    } else {\n                        this.taskList = null;\n                        this.totalTask = 0;\n                    }\n                })\n                .catch(() => {\n                    this.taskList = null;\n                });\n            this.isLoading = false;\n        },\n        async taskRemoveHandler(taskID) {\n            this.isLoading = true;\n            await axios\n                .delete(`${process.env.VUE_APP_API_URL}/task/${taskID}/delete?token=${this.accessToken}`)\n                .then((res) => {\n                    if (res.data.status) {\n                        this.toastify.success(res.data.msg.en);\n                    }\n                })\n                .catch((err) => {\n                    this.toastify.error(err.response.data.msg.en);\n                });\n            this.fetchData();\n            this.isLoading = false;\n        },\n        async taskMarkDoneHandler(taskID) {\n            this.isLoading = true;\n            await axios\n                .post(`${process.env.VUE_APP_API_URL}/task/${taskID}/mark-done?token=${this.accessToken}`)\n                .then((res) => {\n                    if (res.data.status) {\n                        this.toastify.success(res.data.msg.en);\n                    } else {\n                        this.toastify.error(res.data.msg.en);\n                    }\n                })\n                .catch((err) => {\n                    this.toastify.error(err.response.data.msg.en);\n                });\n            this.fetchData();\n            this.isLoading = false;\n        },\n        async newTaskHandler() {\n            this.isLoading = true;\n            await axios\n                .post(`${process.env.VUE_APP_API_URL}/task/new?token=${this.accessToken}`, {\n                    taskName: this.taskName,\n                })\n                .then((res) => {\n                    if (res.data.status) {\n                        this.toastify.success(res.data.msg.en);\n                    } else {\n                        this.toastify.error(res.data.msg.en);\n                    }\n                })\n                .catch((err) => {\n                    this.toastify.error(err.response.data.msg.en);\n                });\n            this.taskName = \"\";\n            this.fetchData();\n            this.isLoading = false;\n        },\n        async taskExportHandler(taskID) {\n            this.isLoading = true;\n            const date = new Date();\n            await axios({\n                url: `${process.env.VUE_APP_API_URL}/task/${taskID}/export?token=${this.accessToken}`,\n                method: \"POST\",\n                responseType: \"blob\",\n            }).then((response) => {\n                const fileURL = window.URL.createObjectURL(new Blob([response.data]));\n                const fileLink = document.createElement(\"a\");\n                fileLink.href = fileURL;\n                const fileName = `product-list-${date}.xlsx`;\n                fileLink.setAttribute(\"download\", fileName);\n                fileLink.setAttribute(\"target\", \"_blank\");\n                document.body.appendChild(fileLink);\n                fileLink.click();\n                fileLink.remove();\n            });\n            this.isLoading = false;\n        },\n    },\n    computed: { ...mapState([\"accessToken\", \"payload\", \"toastify\"]) },\n    components: { ThemifyIcon, Loading },\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TaskList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TaskList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaskList.vue?vue&type=template&id=5eb001f2&\"\nimport script from \"./TaskList.vue?vue&type=script&lang=js&\"\nexport * from \"./TaskList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","isLoading","staticClass","_v","directives","name","rawName","value","taskName","expression","domProps","on","$event","target","composing","newTaskHandler","_s","totalTask","payload","role","_e","taskList","data","length","_l","task","i","key","class","isDone","taskID","memberList","dateFormat","createdAt","updatedAt","taskRemoveHandler","taskMarkDoneHandler","taskExportHandler","staticRenderFns","methods","get","then","console","catch","delete","post","url","method","responseType","fileLink","document","computed","components","ThemifyIcon","Loading","component"],"sourceRoot":""}