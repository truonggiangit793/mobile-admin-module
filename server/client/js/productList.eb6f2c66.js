"use strict";(self["webpackChunkvue_app"]=self["webpackChunkvue_app"]||[]).push([[958],{4736:function(t,e,a){a.r(e),a.d(e,{default:function(){return g}});var s=function(){var t=this,e=t._self._c;return e("main",[e("Loading",{attrs:{active:t.isLoading,"is-full-page":!0,"can-cancel":!1}}),e("div",{staticClass:"mb-20"},[e("div",{staticClass:"flex items-center mb-4 text-green-700 font-bold text-lg uppercase"},[e("ThemifyIcon",{attrs:{icon:"menu"}}),e("h1",{staticClass:"ml-2"},[t._v("Products management")])],1),e("div",{staticClass:"mb-6"},[e("div",{staticClass:"mb-2 text-md font-medium text-gray-900 flex items-center"},[e("ThemifyIcon",{attrs:{icon:"settings"}}),e("p",{staticClass:"ml-2"},[t._v("Import products list from excel:")])],1),e("div",{staticClass:"flex mb-6"},[e("input",{ref:"file",staticClass:"block w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 cursor-pointer pl-2 py-2 mr-4",attrs:{type:"file"},on:{change:t.uploadFile}}),e("div",{staticClass:"flex justify-center items-center transition-all bg-blue-400 hover:bg-blue-500 text-white w-80 text-center rounded cursor-pointer",on:{click:t.importExcelHandler}},[e("ThemifyIcon",{attrs:{icon:"upload"}}),e("button",{staticClass:"ml-2"},[t._v("Import")])],1)]),e("div",{staticClass:"mb-2 text-md font-medium text-gray-900 flex items-center"},[e("ThemifyIcon",{attrs:{icon:"settings"}}),e("p",{staticClass:"ml-2"},[t._v("Download file format of excel to import products:")])],1),e("div",{staticClass:"flex justify-center items-center transition-all bg-green-400 hover:bg-green-500 text-white w-60 py-2 rounded mb-4 cursor-pointer",on:{click:t.downloadExampleHandler}},[e("ThemifyIcon",{attrs:{icon:"download"}}),e("button",{staticClass:"ml-2"},[t._v("Donwload example")])],1)]),e("div",{staticClass:"mb-2 text-md font-medium text-gray-900 flex items-center"},[e("ThemifyIcon",{attrs:{icon:"settings"}}),e("p",{staticClass:"ml-2"},[t._v("Insert new product manually:")])],1),e("div",{staticClass:"grid gap-6 mb-6 md:grid-cols-2"},[e("div",[e("label",{staticClass:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},[t._v("Barcode")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.barcode,expression:"barcode"}],staticClass:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",attrs:{type:"text",placeholder:"Product barcode",required:""},domProps:{value:t.barcode},on:{input:function(e){e.target.composing||(t.barcode=e.target.value)}}})]),e("div",[e("label",{staticClass:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},[t._v("Product name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.productName,expression:"productName"}],staticClass:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",attrs:{type:"text",placeholder:"Product name",required:""},domProps:{value:t.productName},on:{input:function(e){e.target.composing||(t.productName=e.target.value)}}})])]),e("button",{staticClass:"text-white transition-all bg-blue-400 hover:bg-blue-500 focus:outline-none font-medium rounded-lg text-sm w-full sm:w-auto px-9 py-2.5 text-center",attrs:{type:"submit"},on:{click:t.registerProductHandler}},[t._v(" Submit ")])])],1)},o=[],r=a(594),l=a(7973),i=a(629),n=a(7398),c=a.n(n),d={data(){return{isLoading:!1,barcode:null,productName:null,fileImport:null}},methods:{uploadFile(){this.fileImport=this.$refs.file.files[0]},async downloadExampleHandler(){await(0,r.Z)({url:`http://localhost:8080/api/v1/product/download-example?token=${this.accessToken}`,method:"GET",responseType:"blob"}).then((t=>{const e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e;const s="product-example.xlsx";a.setAttribute("download",s),a.setAttribute("target","_blank"),document.body.appendChild(a),a.click(),a.remove()}))},async registerProductHandler(){this.isLoading=!0,await r.Z.post(`http://localhost:8080/api/v1/product/register?token=${this.accessToken}`,{barcode:this.barcode,productName:this.productName,UOM:this.uom,department:this.department,supplierCode:this.supplierCode,unitCost:this.unitCost,quantity:this.quantity}).then((t=>{t.data.status?(this.toastify.success(t.data.msg.en),this.barcode=null,this.productName=null,this.uom=null,this.department=null,this.supplierCode=null,this.unitCost=null,this.quantity=null):this.toastify.error(t.data.msg.en)})).catch((t=>{this.toastify.error(t.response.data.msg.en)})),this.isLoading=!1},async importExcelHandler(){this.isLoading=!0;const t=new FormData;t.append("file",this.fileImport);const e={"Content-Type":"multipart/form-data"};await r.Z.post(`http://localhost:8080/api/v1/product/import?token=${this.accessToken}`,t,{headers:e}).then((t=>{console.log(t.data),t.data.status?this.toastify.success(t.data.msg.en):this.toastify.error(t.data.msg.en)})).catch((t=>{this.toastify.error(t.response.data.msg.en),console.log(t)})),this.isLoading=!1}},components:{ThemifyIcon:l.Z,Loading:c()},computed:{...(0,i.rn)(["accessToken","payload","toastify"])}},u=d,p=a(1001),m=(0,p.Z)(u,s,o,!1,null,null,null),g=m.exports},9342:function(t,e,a){a.r(e),a.d(e,{default:function(){return h}});var s=function(){var t=this,e=t._self._c;return e("main",[e("Loading",{attrs:{active:t.isLoading,"is-full-page":!0,"can-cancel":!1}}),e("div",{staticClass:"flex items-center mb-4 text-green-700 font-bold text-lg uppercase"},[e("ThemifyIcon",{attrs:{icon:"menu"}}),e("h1",{staticClass:"ml-2"},[t._v("List of all products")])],1),e("div",{staticClass:"flex items-center mb-4 text-gray-700 font-bold text-md uppercase"},[e("h1",{staticClass:"ml-2"},[t._v("Total products: "+t._s(t.totalProducts))])]),e("div",{staticClass:"overflow-x-auto relative"},[e("table",{staticClass:"overflow-scroll w-full text-sm text-left text-gray-500 dark:text-gray-400 mb-4"},[t._m(0),t.productsData.result&&t.productsData.result.perPage>0?e("tbody",t._l(t.productsData.result.data,(function(a,s){return e("tr",{key:s,staticClass:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},[e("th",{staticClass:"py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white",attrs:{scope:"row"}},[t._v(" "+t._s(a.barcode)+" ")]),e("td",{staticClass:"py-4 px-6"},[t._v(t._s(a.productName))]),e("td",{staticClass:"py-4 px-6"},[t._v(t._s(t.dateFormat(a.updatedAt)))]),e("td",{staticClass:"py-4 px-6",on:{click:function(e){return t.handleDelete(a.barcode)}}},[e("div",{staticClass:"text-red-500 cursor-pointer"},[e("ThemifyIcon",{attrs:{icon:"trash"}}),t._v("Delete")],1)])])})),0):t._e()]),!t.productsData.result||t.productsData.result.perPage<=0?e("div",{staticClass:"flex w-full justify-center p-8"},[e("h1",{},[t._v("Empty list, there is no data!")])]):t._e(),t.productsData.result&&t.productsData.result.perPage>0?e("div",{staticClass:"flex items-center"},[t.productsData&&1!=t.productsData.currentPage?e("button",{staticClass:"underline px-2 py-1 rounded-full",on:{click:function(e){return t.pagePagination(t.productsData.currentPage-1)}}},[t._v(" Previous ")]):t._e(),e("p",{staticClass:"px-2 py-4 font-bold"},[t._v(t._s(`${t.productsData.currentPage}/${t.productsData.pageTotal}`))]),t.productsData&&t.productsData.currentPage<t.productsData.pageTotal?e("button",{staticClass:"underline px-2 py-1 rounded-full",on:{click:function(e){return t.pagePagination(t.productsData.currentPage+1)}}},[t._v(" Next ")]):t._e()]):t._e()])],1)},o=[function(){var t=this,e=t._self._c;return e("thead",{staticClass:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",[e("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Barcode")]),e("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Product name")]),e("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Last modified")]),e("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Action")])])])}],r=(a(7658),a(594)),l=a(7973),i=a(629),n=a(8510),c=a(7398),d=a.n(c),u={data(){return{isLoading:!1,productsData:{currentPage:null,msg:null,pageTotal:null,result:null,status:null,statusCode:null,totalProducts:null},totalProducts:0}},async mounted(){this.fetchData()},methods:{dateFormat:n.Z,pagePagination(t){this.$router.push(`/product-list?page=${t}`),this.fetchData(),this.isLoading=!1},async fetchData(t=1){this.isLoading=!0;let e=this.$route.query?parseInt(this.$route.query.page):t;await r.Z.get(`http://localhost:8080/api/v1/product/get-all?page=${e}&token=${this.accessToken}`).then((t=>{t.data.status&&!!t.data.result.perPage?(this.productsData=t.data,this.totalProducts=t.data.totalProducts):this.productsData={currentPage:null,msg:null,pageTotal:null,result:null,status:null,statusCode:null,totalProducts:null}})),this.isLoading=!1},async handleDelete(t=null){this.isLoading=!0,console.log(t),await r.Z["delete"](`http://localhost:8080/api/v1/product/${t}/delete?token=${this.accessToken}`).then((t=>{t.data.status,this.toastify.success(t.data.msg.en)})).catch((t=>{this.toastify.error(t.response.data.msg.en)})),this.isLoading=!1,this.fetchData()}},computed:{...(0,i.rn)(["accessToken","toastify"])},components:{ThemifyIcon:l.Z,Loading:d()}},p=u,m=a(1001),g=(0,m.Z)(p,s,o,!1,null,null,null),h=g.exports}}]);
//# sourceMappingURL=productList.eb6f2c66.js.map