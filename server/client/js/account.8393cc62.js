"use strict";(self["webpackChunkvue_app"]=self["webpackChunkvue_app"]||[]).push([[809],{9402:function(t,a,s){s.r(a),s.d(a,{default:function(){return v}});var e=function(){var t=this,a=t._self._c;return a("main",[a("Loading",{attrs:{active:t.isLoading,"is-full-page":!0,"can-cancel":!1}}),a("div",{staticClass:"flex items-center mb-4 text-green-700 font-bold text-lg uppercase"},[a("ThemifyIcon",{attrs:{icon:"menu"}}),a("h1",{staticClass:"ml-2"},[t._v("Accounts list")])],1),a("div",{staticClass:"flex items-center mb-4 text-gray-700 font-bold uppercase"},[a("h1",{staticClass:"ml-2"},[t._v("Total accounts: "+t._s(t.totalAccounts))])]),a("div",{staticClass:"overflow-x-auto relative"},[a("table",{staticClass:"overflow-scroll w-full text-sm text-left text-gray-500 dark:text-gray-400"},[a("thead",{staticClass:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[a("tr",[a("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("User code")]),a("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Fullname")]),a("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Email")]),a("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Phone")]),a("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Role")]),a("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Created At")]),a("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Last modified")]),"ADMIN"==t.payload.role?a("th",{staticClass:"py-3 px-6",attrs:{scope:"col"}},[t._v("Action")]):t._e()])]),t.accountList&&t.accountList.data.length>0?a("tbody",t._l(t.accountList.data,(function(s,e){return a("tr",{key:e,staticClass:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},[a("th",{staticClass:"py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white",attrs:{scope:"row"}},[t._v(" "+t._s(s.userCode)+" ")]),a("td",{staticClass:"py-4 px-6"},[t._v(t._s(s.fullName))]),a("td",{staticClass:"py-4 px-6"},[t._v(t._s(s.email))]),a("td",{staticClass:"py-4 px-6"},[t._v(t._s(s.phoneNumber))]),a("td",{staticClass:"py-4 px-6"},[t._v(t._s(s.role))]),a("td",{staticClass:"py-4 px-6"},[t._v(t._s(t.dateFormat(s.createdAt)))]),a("td",{staticClass:"py-4 px-6"},[t._v(t._s(t.dateFormat(s.updatedAt)))]),"ADMIN"==t.payload.role?a("td",{staticClass:"py-4 px-6",on:{click:function(a){return t.accountRemoveHandler(s.userCode)}}},[a("div",{staticClass:"text-red-500 cursor-pointer"},[a("ThemifyIcon",{attrs:{icon:"trash"}}),t._v("Delete")],1)]):t._e()])})),0):t._e()]),t.accountList?t._e():a("div",{staticClass:"flex w-full justify-center p-8"},[a("h1",{},[t._v("Empty list, there is no data!")])])])],1)},c=[],o=s(594),i=s(7973),l=s(629),n=s(7398),r=s.n(n),p=s(8510),d={data(){return{isLoading:!0,accountList:null,totalAccounts:0}},async mounted(){this.fetchData()},methods:{dateFormat:p.Z,async fetchData(){this.isLoading=!0,await o.Z.get(`http://localhost:8080/api/v1/account/get-all?token=${this.accessToken}`).then((t=>{t.data.status&&(this.accountList=t.data.result,this.totalAccounts=t.data.result.total)})).catch((()=>{this.accountList=null})),this.isLoading=!1},async accountRemoveHandler(t){this.isLoading=!0,await o.Z["delete"](`http://localhost:8080/api/v1/account/${t}/delete?token=${this.accessToken}`).then((t=>{t.data.status?this.toastify.success(t.data.msg.en):this.toastify.error(t.data.msg.en)})).catch((t=>{this.toastify.error(t.response.data.msg.en)})),this.fetchData(),this.isLoading=!1}},computed:{...(0,l.rn)(["accessToken","payload","toastify"])},components:{ThemifyIcon:i.Z,Loading:r()}},u=d,h=s(1001),y=(0,h.Z)(u,e,c,!1,null,null,null),v=y.exports}}]);
//# sourceMappingURL=account.8393cc62.js.map